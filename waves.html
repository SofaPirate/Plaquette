

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generating Waveforms &mdash; Plaquette 0.7.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=4bbc0f39" />

  
    <link rel="shortcut icon" href="_static/plaquette-favicon.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=fe7df9b0"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Working with Time" href="timing_basics.html" />
    <link rel="prev" title="Inputs and Outputs" href="inputs_outputs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Plaquette
              <img src="_static/Plaquette-LogoText.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Essentials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="why_plaquette.html">Why Plaquette?</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://raw.githubusercontent.com/SofaPirate/Plaquette/master/extras/Plaquette-Manual.pdf">PDF manual</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="inputs_outputs.html">Inputs and Outputs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Generating Waveforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-waves-with-the-serial-plotter">Visualizing Waves with the Serial Plotter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#single-signal">Single Signal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-signals">Multiple Signals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#types-of-waves">Types of Waves</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wave-properties">Wave Properties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initializing-properties">Initializing Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-properties-during-runtime">Changing Properties During Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#accessors-and-mutators">Accessors and Mutators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wave-addition">Wave Addition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modulation">Modulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-noise-with-randomfloat">Adding Noise with randomFloat()</a></li>
<li class="toctree-l2"><a class="reference internal" href="#timing-functions">Timing Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#phase-shifting-with-shiftby">Phase Shifting with shiftBy()</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="timing_basics.html">Working with Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="regularizing.html">Regularizing Signals</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Managing Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="base_units.html">Base Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="generators.html">Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="timing.html">Timing</a></li>
<li class="toctree-l1"><a class="reference internal" href="filters.html">Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="extra.html">Extra</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Related Info</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://www.youtube.com/playlist?list=PLO0YogNIPwXwEsNsoQSKeCdYlepWFrYip">Video tutorials</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/SofaPirate/Plaquette/">GitHub repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Plaquette</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Generating Waveforms</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="generating-waveforms">
<h1>Generating Waveforms<a class="headerlink" href="#generating-waveforms" title="Link to this heading"></a></h1>
<p>In this section, we will explore waves (also called oscillators), essential tools for creating dynamic
and expressive media. Oscillators generate repeating waveforms, which can control various outputs such
as LEDs or motors. We will also learn how to visualize signals and shape different kinds of waveforms.
We will then introduce combining different waves together, either by adding them or through modulation.
Finally, we will look at how to use randomness to generate noisy waveforms that feel more natural.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To follow along with the examples, set up a simple circuit:</p>
<ul class="simple">
<li><p>A <strong>potentiometer</strong> connected to <code class="docutils literal notranslate"><span class="pre">A0</span></code> to control proprties dynamically.</p></li>
<li><p>A <strong>button</strong> connected to pin <code class="docutils literal notranslate"><span class="pre">2</span></code> with an internal pull-up resistor to trigger actions.</p></li>
<li><p>An <strong>LED</strong> connected to pin <code class="docutils literal notranslate"><span class="pre">9</span></code> (PWM capable) through a 330 <span class="math notranslate nohighlight">\(\Omega\)</span> resistor.</p></li>
</ul>
</div>
<section id="visualizing-waves-with-the-serial-plotter">
<h2>Visualizing Waves with the Serial Plotter<a class="headerlink" href="#visualizing-waves-with-the-serial-plotter" title="Link to this heading"></a></h2>
<p>In this section, we will use <strong>serial communication</strong> to send data from our Arduino board to our
PC so as to visualize the waves in real time. The <code class="docutils literal notranslate"><span class="pre">print()</span></code> and <code class="docutils literal notranslate"><span class="pre">println()</span></code> functions allow
you to send data to the serial, which is invaluable for debugging and visualizing data. They will
provide a way to graphically observe how wave properties like amplitude, phase, or frequency affect
the output.</p>
<section id="single-signal">
<h3>Single Signal<a class="headerlink" href="#single-signal" title="Link to this heading"></a></h3>
<p>To visualize the data, open the <a class="reference external" href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-serial-plotter/">Serial Plotter</a>
in the Arduino IDE. The Serial Plotter can graphically display waveforms by interpreting each printed
value as a separate line on the graph, making it an invaluable tool to visualize signals such as
sensor values and waveforms.</p>
<p><strong>Example</strong>: Print the value of the potentiometer:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">AnalogIn</span><span class="w"> </span><span class="nf">pot</span><span class="p">(</span><span class="n">A0</span><span class="p">);</span><span class="w"> </span><span class="c1">// The potentiometer</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">pot</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the potentiometer value and ends the line</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="multiple-signals">
<h3>Multiple Signals<a class="headerlink" href="#multiple-signals" title="Link to this heading"></a></h3>
<p>For multiple signals, print their values separated by spaces in a single line, followed by a
newline using <code class="docutils literal notranslate"><span class="pre">println()</span></code>.</p>
<p><strong>Example</strong>: Print the value of the potentiometer and a sine wave:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">AnalogIn</span><span class="w"> </span><span class="nf">pot</span><span class="p">(</span><span class="n">A0</span><span class="p">);</span><span class="w">   </span><span class="c1">// Potentiometer input</span>
<span class="n">SineWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="mf">2.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Sine wave with period of 2 seconds</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">wave</span><span class="p">);</span><span class="w">  </span><span class="c1">// Print wave value</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">// Print white space</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">pot</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print the potentiometer value and ends the line</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="types-of-waves">
<h2>Types of Waves<a class="headerlink" href="#types-of-waves" title="Link to this heading"></a></h2>
<p>Plaquette provides 3 types of waves:</p>
<ul>
<li><p><a class="reference internal" href="SquareWave.html"><span class="doc">SquareWave</span></a>: Alternates between two levels with sharp transitions. Useful for creating rhythmic
on-off patterns such as blinking LEDs or simple tone generators for buzzers. Possesses some properties
of digital units.</p>
<a class="reference internal image-reference" href="_images/Plaquette-SquareWave.png"><img alt="_images/Plaquette-SquareWave.png" class="align-center" src="_images/Plaquette-SquareWave.png" style="width: 50%;" />
</a>
</li>
<li><p><a class="reference internal" href="TriangleWave.html"><span class="doc">TriangleWave</span></a>: Smoothly transitions between two levels in a linear fashion. By varying the
width of the wave, you can create a <strong>sawtooth wave</strong> (width = 0) or an <strong>inverted sawtooth wave</strong>
(width = 1). This is ideal for simulating ramping motions or gradual changes in brightness.</p>
<a class="reference internal image-reference" href="_images/Plaquette-TriangleWave.png"><img alt="_images/Plaquette-TriangleWave.png" class="align-center" src="_images/Plaquette-TriangleWave.png" style="width: 50%;" />
</a>
</li>
<li><p><a class="reference internal" href="SineWave.html"><span class="doc">SineWave</span></a>: Produces a sinusoidal waveform for smoother modulation. Commonly used for
creating natural, flowing transitions, such as smooth dimming or speed control.</p>
<a class="reference internal image-reference" href="_images/Plaquette-SineWave.png"><img alt="_images/Plaquette-SineWave.png" class="align-center" src="_images/Plaquette-SineWave.png" style="width: 50%;" />
</a>
</li>
</ul>
<p>You can visualize these waves on the Serial Plotter by streaming their values.</p>
<p><strong>Example</strong>: Display different waves for comparison:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="c1">// Three wave types.</span>
<span class="n">SquareWave</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
<span class="n">TriangleWave</span><span class="w"> </span><span class="nf">triangle</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
<span class="n">SineWave</span><span class="w"> </span><span class="nf">sine</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Print all wave values separated by spaces</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">square</span><span class="p">);</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">triangle</span><span class="p">);</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">sine</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="wave-properties">
<h2>Wave Properties<a class="headerlink" href="#wave-properties" title="Link to this heading"></a></h2>
<p>Oscillators are defined by their <strong>period</strong>, <strong>width</strong>, <strong>frequency</strong>, <strong>amplitude</strong>, and <strong>phase</strong>.
Let us explore these properties and their corresponding functions:</p>
<ul>
<li><p><strong>period()</strong>: Sets the duration of one cycle in seconds.</p></li>
<li><p><strong>width()</strong>: Controls the balance between the rising and falling portions of the wave cycle (in range [0, 1]).
For each wave type, this property has a specific effect:</p>
<blockquote>
<div><ul class="simple">
<li><p>For <a class="reference internal" href="SquareWave.html"><span class="doc">SquareWave</span></a>, it adjusts the duty cycle (the ratio of ON to OFF time).</p></li>
<li><p>For <a class="reference internal" href="TriangleWave.html"><span class="doc">TriangleWave</span></a>, it determines whether the wave skews towards a sawtooth (width = 0) or inverted sawtooth (width = 1).</p></li>
<li><p>For <a class="reference internal" href="SineWave.html"><span class="doc">SineWave</span></a>, it shifts the inflection points of the wave, altering its symmetry.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>frequency()</strong>: Inverse of period; sets the cycles per second (Hz).</p></li>
<li><p><strong>bpm()</strong>: Alternative way to set the frequency using beats per minute (BPM).</p></li>
<li><p><strong>phase()</strong>: Sets the initial point in the wave cycle (as % of period) (in range [0, 1]).</p></li>
<li><p><strong>amplitude()</strong>: Sets the peak level of the wave (as % of max) (in range [0, 1]);</p></li>
</ul>
<section id="initializing-properties">
<h3>Initializing Properties<a class="headerlink" href="#initializing-properties" title="Link to this heading"></a></h3>
<p>The period and width of a waveform can be initialized when the unit is created.</p>
<p><strong>Example</strong>: Assign period and width when creating the unit:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">TriangleWave</span><span class="w"> </span><span class="n">wave1</span><span class="p">;</span><span class="w">           </span><span class="c1">// period = 1 sec (default), width = 0.5 (default)</span>
<span class="n">TriangleWave</span><span class="w"> </span><span class="nf">wave2</span><span class="p">(</span><span class="mf">2.0</span><span class="p">);</span><span class="w">      </span><span class="c1">// period = 2 sec, width = 0.5 (default)</span>
<span class="n">TriangleWave</span><span class="w"> </span><span class="nf">wave3</span><span class="p">(</span><span class="mf">3.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span><span class="w"> </span><span class="c1">// period = 3 sec, width = 0.1</span>
</pre></div>
</div>
<p>Other properties are typically initialized in the <code class="docutils literal notranslate"><span class="pre">begin()</span></code> to build a specific waveform.
It is also common to initialize period and width in the same way for more expressive code.</p>
<p><strong>Example</strong>: Assign some properties of a wave at program startup:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">TriangleWave</span><span class="w"> </span><span class="n">wave</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">wave</span><span class="p">.</span><span class="n">frequency</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// 2 Hz</span>
<span class="w">  </span><span class="n">wave</span><span class="p">.</span><span class="n">width</span><span class="p">(</span><span class="mf">0.9</span><span class="p">);</span><span class="w"> </span><span class="c1">// width 90%</span>
<span class="w">  </span><span class="n">wave</span><span class="p">.</span><span class="n">phase</span><span class="p">(</span><span class="mf">0.1</span><span class="p">);</span><span class="w"> </span><span class="c1">// dephased by 10% of period</span>
<span class="w">  </span><span class="n">wave</span><span class="p">.</span><span class="n">amplitude</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span><span class="w"> </span><span class="c1">// 50% amplitude</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">wave</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print wave value</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="changing-properties-during-runtime">
<h3>Changing Properties During Runtime<a class="headerlink" href="#changing-properties-during-runtime" title="Link to this heading"></a></h3>
<p>Properties can also be changed in real-time in the <code class="docutils literal notranslate"><span class="pre">step()</span></code> function to create interactive or
evolutive effects.</p>
<p><strong>Example</strong>: Control the width of the waves using the potentiometer:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">AnalogIn</span><span class="w"> </span><span class="nf">pot</span><span class="p">(</span><span class="n">A0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Potentiometer input</span>

<span class="n">SquareWave</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
<span class="n">TriangleWave</span><span class="w"> </span><span class="nf">triangle</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
<span class="n">SineWave</span><span class="w"> </span><span class="nf">sine</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Assign new width value.</span>
<span class="w">  </span><span class="n">square</span><span class="p">.</span><span class="n">width</span><span class="p">(</span><span class="n">pot</span><span class="p">);</span>
<span class="w">  </span><span class="n">triangle</span><span class="p">.</span><span class="n">width</span><span class="p">(</span><span class="n">pot</span><span class="p">);</span>
<span class="w">  </span><span class="n">sine</span><span class="p">.</span><span class="n">width</span><span class="p">(</span><span class="n">pot</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Print all wave values separated by spaces</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">square</span><span class="p">);</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">triangle</span><span class="p">);</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">sine</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example</strong>: Control the period of the waves using the potentiometer. Necessitates remapping
potentiometer value to appropriate ranges.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">AnalogIn</span><span class="w"> </span><span class="nf">pot</span><span class="p">(</span><span class="n">A0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Potentiometer input</span>

<span class="n">SquareWave</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
<span class="n">TriangleWave</span><span class="w"> </span><span class="nf">triangle</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
<span class="n">SineWave</span><span class="w"> </span><span class="nf">sine</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Read new period value.</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">newPeriod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pot</span><span class="p">.</span><span class="n">mapTo</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w"> </span><span class="c1">// Map to 0.5-5 seconds period</span>
<span class="w">  </span><span class="c1">// Assign new period value.</span>
<span class="w">  </span><span class="n">square</span><span class="p">.</span><span class="n">period</span><span class="p">(</span><span class="n">newPeriod</span><span class="p">);</span>
<span class="w">  </span><span class="n">triangle</span><span class="p">.</span><span class="n">period</span><span class="p">(</span><span class="n">newPeriod</span><span class="p">);</span>
<span class="w">  </span><span class="n">sine</span><span class="p">.</span><span class="n">period</span><span class="p">(</span><span class="n">newPeriod</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Print all wave values separated by spaces</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">square</span><span class="p">);</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">triangle</span><span class="p">);</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">sine</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Try using the potentiometer to control different wave properties and visualize the
result using the Serial Plotter.</p>
</section>
<section id="accessors-and-mutators">
<h3>Accessors and Mutators<a class="headerlink" href="#accessors-and-mutators" title="Link to this heading"></a></h3>
<p>All properties in wave units have two variants:</p>
<ul class="simple">
<li><p>A <strong>mutator</strong> variant allowing to change the value of the property. Example: <code class="docutils literal notranslate"><span class="pre">wave.period(3.0);</span></code>.</p></li>
<li><p>An <strong>accessor</strong> read-only variant that returns the current value of the property. Example: <code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">wave.period();</span></code></p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This naming convention is a standard in Plaquette and you will find it in other units as well.</p>
</div>
<p><strong>Example</strong>: Increase the wave’s period by one second each time the button is pressed:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">DigitalIn</span><span class="w"> </span><span class="nf">button</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">INTERNAL_PULLUP</span><span class="p">);</span><span class="w"> </span><span class="c1">// Button input</span>

<span class="n">TriangleWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Wave with initial 1 second period</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">button</span><span class="p">.</span><span class="n">rose</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">wave</span><span class="p">.</span><span class="n">period</span><span class="p">(</span><span class="w"> </span><span class="n">wave</span><span class="p">.</span><span class="n">period</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// Set period to current period plus one</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">wave</span><span class="p">);</span><span class="w"> </span><span class="c1">// Print wave value</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="wave-addition">
<h2>Wave Addition<a class="headerlink" href="#wave-addition" title="Link to this heading"></a></h2>
<p>Adding waves together allows for the creation of complex and dynamic waveforms. By superimposing
multiple signals, you can simulate natural phenomena, generate rhythmic patterns, or create rich
textures for artistic applications. In Plaquette, wave addition is as simple as computing the average
value of different waves.</p>
<p>One compelling example of wave addition is simulating a <strong>heartbeat</strong>. A heartbeat typically has
two peaks: a stronger primary beat followed by a softer secondary beat. This can be achieved by adding
two waves with different amplitudes and timings.</p>
<p><strong>Example</strong>: Heartbeat simulation. This example uses two <a class="reference internal" href="SineWave.html"><span class="doc">SineWave</span></a> units: one for the primary
beat one for the secondary beat. The <code class="docutils literal notranslate"><span class="pre">bpm()</span></code> function sets the frequency of the waves in beats
per minute.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">SineWave</span><span class="w"> </span><span class="n">primary</span><span class="p">;</span><span class="w">   </span><span class="c1">// Main heartbeat wave</span>
<span class="n">SineWave</span><span class="w"> </span><span class="n">secondary</span><span class="p">;</span><span class="w"> </span><span class="c1">// Secondary beat</span>
<span class="n">AnalogOut</span><span class="w"> </span><span class="nf">led</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span><span class="w">   </span><span class="c1">// LED for visualizing the heartbeat</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">primary</span><span class="p">.</span><span class="n">bpm</span><span class="p">(</span><span class="mi">80</span><span class="p">);</span><span class="w"> </span><span class="c1">// Set primary beat to 80 beats per minute</span>
<span class="w">  </span><span class="n">secondary</span><span class="p">.</span><span class="n">bpm</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">primary</span><span class="p">.</span><span class="n">bpm</span><span class="p">());</span><span class="w"> </span><span class="c1">// Set secondary beat to twice primary BPM</span>
<span class="w">  </span><span class="n">secondary</span><span class="p">.</span><span class="n">amplitude</span><span class="p">(</span><span class="mf">0.8</span><span class="p">);</span><span class="w"> </span><span class="c1">// Secondary beat is less strong</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">heartBeat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">primary</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">secondary</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// Combine and normalize waves</span>
<span class="w">  </span><span class="n">led</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">heartBeat</span><span class="p">);</span><span class="w">  </span><span class="c1">// Drive LED with combined signal</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">heartBeat</span><span class="p">);</span><span class="w">  </span><span class="c1">// Stream the combined wave for visualization</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this simulation, the <code class="docutils literal notranslate"><span class="pre">primary</span></code> sine wave provides the dominant rhythm, while the <code class="docutils literal notranslate"><span class="pre">secondary</span></code>
sine wave introduces a softer, complementary pulse. The resulting waveform mimics the double-thump
pattern of a human heartbeat.</p>
<p>Try experimenting with different wave types, amplitudes, and frequencies to see how the combined waveform
changes. Try adding a third wave, making sure you divide the result by 3 intead of 2.
Wave addition opens up endless possibilities for creating expressive and engaging outputs.</p>
</section>
<section id="modulation">
<h2>Modulation<a class="headerlink" href="#modulation" title="Link to this heading"></a></h2>
<p>Modulation involves using one oscillator to influence the properties of another, creating rich and
dynamic effects. For example, a slower wave (also called a <strong>Low-Frequency Oscillator (LFO)</strong>) can
modulate the frequency, phase, period, amplitude, or width of a faster wave.</p>
<p><strong>Example</strong>: Modulate the frequency of a sine wave with a triangle wave:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">TriangleWave</span><span class="w"> </span><span class="nf">modulator</span><span class="p">(</span><span class="mf">10.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// LFO (10 seconds period)</span>
<span class="n">SineWave</span><span class="w"> </span><span class="n">sine</span><span class="p">;</span><span class="w">    </span><span class="c1">// Main wave</span>
<span class="n">AnalogOut</span><span class="w"> </span><span class="nf">led</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span><span class="w"> </span><span class="c1">// LED output</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">sine</span><span class="p">.</span><span class="n">frequency</span><span class="p">(</span><span class="n">modulator</span><span class="p">.</span><span class="n">mapTo</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">10.0</span><span class="p">));</span><span class="w"> </span><span class="c1">// Modulate frequency between 1 and 10 Hz</span>
<span class="w">  </span><span class="n">sine</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">led</span><span class="p">;</span><span class="w"> </span><span class="c1">// Drive LED with modulated sine wave</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">sine</span><span class="p">);</span><span class="w"> </span><span class="c1">// Stream the modulated wave</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="adding-noise-with-randomfloat">
<h2>Adding Noise with randomFloat()<a class="headerlink" href="#adding-noise-with-randomfloat" title="Link to this heading"></a></h2>
<p>While oscillators are incredibly useful for generating regular and predictable waveforms, there are
times when you may want to introduce randomness to add a sense of natural variation or lifelike behavior.
Plaquette provides the <code class="docutils literal notranslate"><span class="pre">randomFloat()</span></code> function, which is a powerful tool for generating random values.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Avoid using Arduino’s <a class="reference external" href="https://docs.arduino.cc/language-reference/en/functions/random-numbers/random/">random()</a>
function as it returns integer numbers instead of floating-point numbers.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">randomFloat()</span></code> function can be used in several ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">randomFloat()</span></code> generates a random float between 0.0 and 1.0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">randomFloat(max)</span></code> generates a random float between 0.0 and <code class="docutils literal notranslate"><span class="pre">max</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">randomFloat(min,</span> <span class="pre">max)</span></code> generates a random float between <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code>.</p></li>
</ul>
<p>These random values can be used to add noise directly to a signal.</p>
<p><strong>Example</strong>: Add noise to a sine wave.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">SineWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Base waveform</span>
<span class="n">AnalogOut</span><span class="w"> </span><span class="nf">led</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span><span class="w">   </span><span class="c1">// LED output</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">randomFloat</span><span class="p">(</span><span class="mf">-0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span><span class="w"> </span><span class="c1">// Generate noise value in [-0.1, 0.1]</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">noisyWave</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wave</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">noise</span><span class="p">;</span><span class="w"> </span><span class="c1">// Compute sine value + noise</span>
<span class="w">  </span><span class="n">noisyWave</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">led</span><span class="p">;</span><span class="w">   </span><span class="c1">// Drive LED with noisy sine wave</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">noisyWave</span><span class="p">);</span><span class="w"> </span><span class="c1">// Stream the noisy sine wave</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These random values can also be used to modify properties such as amplitude, frequency,
width, or phase.</p>
<p><strong>Example</strong>: Update the wave’s period according to a random walk. The potentiometer controls
the amount of noise.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">AnalogIn</span><span class="w"> </span><span class="nf">pot</span><span class="p">(</span><span class="n">A0</span><span class="p">);</span><span class="w">   </span><span class="c1">// Potentiometer input</span>
<span class="n">SineWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Wave with initial period of 1 second</span>
<span class="n">AnalogOut</span><span class="w"> </span><span class="nf">led</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span><span class="w">   </span><span class="c1">// LED output</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">randomFloat</span><span class="p">(</span><span class="o">-</span><span class="n">pot</span><span class="p">,</span><span class="w"> </span><span class="n">pot</span><span class="p">);</span><span class="w"> </span><span class="c1">// Generate noise according to potentiometer value</span>
<span class="w">  </span><span class="n">wave</span><span class="p">.</span><span class="n">period</span><span class="p">(</span><span class="w"> </span><span class="n">wave</span><span class="p">.</span><span class="n">period</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// Add noise to period</span>
<span class="w">  </span><span class="n">wave</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">led</span><span class="p">;</span><span class="w">   </span><span class="c1">// Drive LED with noisy sine wave</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">wave</span><span class="p">);</span><span class="w"> </span><span class="c1">// Stream the sine wave</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example</strong>: Introduce randomness to the frequency of a triangle wave. Frequency updated on
each push of the button.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">DigitalIn</span><span class="w"> </span><span class="nf">button</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">INTERNAL_PULLUP</span><span class="p">);</span><span class="w"> </span><span class="c1">// Button input</span>
<span class="n">TriangleWave</span><span class="w"> </span><span class="n">wave</span><span class="p">;</span><span class="w"> </span><span class="c1">// Wave with default properties</span>
<span class="n">AnalogOut</span><span class="w"> </span><span class="nf">led</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span><span class="w">  </span><span class="c1">// LED output</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">button</span><span class="p">.</span><span class="n">debounce</span><span class="p">();</span><span class="w"> </span><span class="c1">// Debounce button</span>
<span class="w">  </span><span class="n">wave</span><span class="p">.</span><span class="n">frequency</span><span class="p">(</span><span class="mf">5.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Start at 5 Hz</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">button</span><span class="p">.</span><span class="n">rose</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">wave</span><span class="p">.</span><span class="n">frequency</span><span class="p">(</span><span class="n">randomFloat</span><span class="p">(</span><span class="mf">4.0</span><span class="p">,</span><span class="w"> </span><span class="mf">6.0</span><span class="p">));</span><span class="w"> </span><span class="c1">// Random frequency between 4 and 6 Hz</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">wave</span><span class="p">);</span><span class="w"> </span><span class="c1">// Stream the wave for visualization</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Randomness can also be combined with modulation to create highly dynamic and expressive behaviors.
Experiment with adding random noise to various properties and observe the effects using the
Serial Plotter. Try to simulate a natural phenomena like a flickering flame or a lightning bolt.</p>
</section>
<section id="timing-functions">
<h2>Timing Functions<a class="headerlink" href="#timing-functions" title="Link to this heading"></a></h2>
<p>Oscillators offer various timing functions to control their behavior:</p>
<ul class="simple">
<li><p><strong>start()</strong>: Starts/restarts the oscillator.</p></li>
<li><p><strong>stop()</strong>: Stops it and resets it.</p></li>
<li><p><strong>pause()</strong>: Pauses the wave at its current point.</p></li>
<li><p><strong>resume()</strong>: Resumes from the paused point.</p></li>
<li><p><strong>togglePause()</strong>: Toggles between paused and running states.</p></li>
<li><p><strong>isRunning()</strong>: Returns whether the oscillator is active.</p></li>
<li><p><strong>setTime()</strong>: Sets the current phase of the oscillator based on absolute time (in seconds).</p></li>
</ul>
<p><strong>Example</strong>: Use the button to start and stop the wave:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">DigitalIn</span><span class="w"> </span><span class="nf">button</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">INTERNAL_PULLUP</span><span class="p">);</span><span class="w"> </span><span class="c1">// Button input</span>
<span class="n">SineWave</span><span class="w"> </span><span class="n">sine</span><span class="p">;</span><span class="w">    </span><span class="c1">// Wave with default properties</span>
<span class="n">AnalogOut</span><span class="w"> </span><span class="nf">led</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span><span class="w"> </span><span class="c1">// LED output</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">sine</span><span class="p">.</span><span class="n">frequency</span><span class="p">(</span><span class="mf">2.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Initialize frequency to 2 Hz</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">button</span><span class="p">.</span><span class="n">rose</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sine</span><span class="p">.</span><span class="n">togglePause</span><span class="p">();</span><span class="w"> </span><span class="c1">// Pause or resume the wave</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">sine</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">led</span><span class="p">;</span><span class="w"> </span><span class="c1">// Drive LED with sine wave</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">sine</span><span class="p">);</span><span class="w"> </span><span class="c1">// Stream the wave for visualization</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="phase-shifting-with-shiftby">
<h2>Phase Shifting with shiftBy()<a class="headerlink" href="#phase-shifting-with-shiftby" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">shiftBy()</span></code> function allows you to offset the phase of an oscillator relative to its current
position and returns the value of the dephased wave. This is useful for creating complex, synchronized
patterns.</p>
<p><strong>Example</strong>: Shift the phase of a sine wave:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Plaquette.h&gt;</span>

<span class="n">SineWave</span><span class="w"> </span><span class="nf">wave</span><span class="p">(</span><span class="mf">5.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// Sine wave with 5 seconds period</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">begin</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">step</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Print shifted values separated by white spaces.</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">wave</span><span class="p">);</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 0% shift</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">wave</span><span class="p">.</span><span class="n">shiftBy</span><span class="p">(</span><span class="mf">0.25</span><span class="p">));</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 25% shift</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">wave</span><span class="p">.</span><span class="n">shiftBy</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 50% shift</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">wave</span><span class="p">.</span><span class="n">shiftBy</span><span class="p">(</span><span class="mf">0.75</span><span class="p">));</span><span class="w"> </span><span class="c1">// 75% shift</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading"></a></h2>
<p>Oscillators are powerful tools for creating dynamic, expressive systems. By combining their
waveforms, timing functions, and phase-shifting capabilities, you can achieve intricate and
synchronized behaviors. Modulation and randomness add another layer of complexity, enabling you
to create engaging and responsive media systems. Explore these features in Plaquette and see how
waves can bring your projects to life.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="inputs_outputs.html" class="btn btn-neutral float-left" title="Inputs and Outputs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="timing_basics.html" class="btn btn-neutral float-right" title="Working with Time" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015-2025, Plaquette.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>